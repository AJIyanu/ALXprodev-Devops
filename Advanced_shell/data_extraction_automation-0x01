#!/bin/bash

# Check if the data.json file exists
if [ ! -f "data.json" ]; then
  echo "Error: data.json not found."
  exit 1
fi

# Extract data using jq
NAME=$(jq -r '.name' data.json)
HEIGHT=$(jq -r '.height' data.json)
WEIGHT=$(jq -r '.weight' data.json)
TYPE=$(jq -r '.types[0].type.name' data.json)

# Convert height from decimeters to meters and format to one decimal place
# Convert weight from hectograms to kilograms
# awk is used for floating-point arithmetic
HEIGHT_M=$(echo "$HEIGHT" | awk '{printf "%.1f", $1 / 10}')
WEIGHT_KG=$(echo "$WEIGHT" | awk '{printf "%.0f", $1 / 10}')

# Capitalize the first letter of the name and type using sed
FORMATTED_NAME=$(echo "$NAME" | sed 's/^\(.\)/\U\1/')
FORMATTED_TYPE=$(echo "$TYPE" | sed 's/^\(.\)/\U\1/')

# Print the final formatted string
echo "$FORMATTED_NAME is of type $FORMATTED_TYPE, weighs $WEIGHT_KG kg, and is $HEIGHT_M m tall."